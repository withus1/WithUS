<html>
<head>
<meta charset="utf-8">
</head>
<body>
	<table align=center>
		<tr>
			<td colspan=2 align=center height=40><b>회원탈퇴</b><td>
		</tr>
		<tr>
			<td align=right>아이디&nbsp;</td>
			<td><input type="text" id="id" placeholder="아이디를 입력하세요."></td>
		</tr>
		<tr>
			<td colspan=2 align=center height=50>
				<input type="submit" onclick="withdraw()" value="회원탈퇴하기">
			</td>
		</tr>
	</table>
</body>
</html>

<script src="js/jquery-3.6.0.min.js"></script>
<script src="js/core.js"></script>
<script>
function withdraw() {
	var id = $("#id").val().trim();
	if(id == "") {
		alert("아이디를 입력해주세요.");
		$("#id").focus();
		return;
	}
	
	var url = "jsp/withdraw.jsp?id=" + id;
	AJAX.call(url, null, function(data) {
		var code = data.trim();
		if(code == "NA") {
			alert("존재하지 않는 아이디입니다.");
		}
		else if(code == "OK") {
			alert("회원탈퇴가 완료되었습니다.");
			window.location.href = "Start.html";
		}
		else if(code == "ER") {
			alert("회원탈퇴 도중 오류가 발생하였습니다.");
		}
	}, false);
}
</script>